

<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ODL Dependencies &mdash; pocnetconfschemaless 0.1.0-SNAPSHOT documentation</title>
    
    <link rel="stylesheet" href="../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.0-SNAPSHOT',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bizstyle.js"></script>
    <link rel="top" title="pocnetconfschemaless 0.1.0-SNAPSHOT documentation" href="../index.html" />
    <link rel="next" title="Get the mount point of a NETCONF device" href="mount_point.html" />
    <link rel="prev" title="Developer guide overview" href="overview.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="mount_point.html" title="Get the mount point of a NETCONF device"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="overview.html" title="Developer guide overview"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pocnetconfschemaless 0.1.0-SNAPSHOT documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">ODL Dependencies</a><ul>
<li><a class="reference internal" href="#impl">impl</a><ul>
<li><a class="reference internal" href="#pom-xml">pom.xml</a></li>
<li><a class="reference internal" href="#blueprint">blueprint</a></li>
</ul>
</li>
<li><a class="reference internal" href="#features">features</a><ul>
<li><a class="reference internal" href="#id1">pom.xml</a></li>
<li><a class="reference internal" href="#features-xml">features.xml</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="overview.html"
                        title="previous chapter">Developer guide overview</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="mount_point.html"
                        title="next chapter">Get the mount point of a NETCONF device</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/developer_guide/dependencies.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="odl-dependencies">
<span id="poc-dependencies"></span><h1>ODL Dependencies<a class="headerlink" href="#odl-dependencies" title="Permalink to this headline">¶</a></h1>
<p>This section lists the ODL dependencies we need to work with NETCONF devices
from the code. It shows how to declare those dependencies in the build
system xml files of our project.</p>
<div class="section" id="impl">
<h2>impl<a class="headerlink" href="#impl" title="Permalink to this headline">¶</a></h2>
<div class="section" id="pom-xml">
<h3>pom.xml<a class="headerlink" href="#pom-xml" title="Permalink to this headline">¶</a></h3>
<p>The project depends on the <code class="docutils literal"><span class="pre">ietf-topology</span></code> MD-SAL model
and on the <code class="docutils literal"><span class="pre">sal-netconf-connector</span></code> artifact of ODL netconf
project. In the <code class="docutils literal"><span class="pre">impl/pom.xml</span></code> file, add the following
dependency to the <code class="docutils literal"><span class="pre">&lt;dependencies&gt;</span></code> section:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>org.opendaylight.mdsal.model<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>ietf-topology<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>

<span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>org.opendaylight.netconf<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>sal-netconf-connector<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>${mdsal.version}<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For some reason, <code class="docutils literal"><span class="pre">sal-netconf-connector</span></code> uses the same version numbering
as the mdsal.</p>
</div>
</div>
<div class="section" id="blueprint">
<span id="poc-dependencies-blueprint"></span><h3>blueprint<a class="headerlink" href="#blueprint" title="Permalink to this headline">¶</a></h3>
<p>In <code class="docutils literal"><span class="pre">impl/src/main/resources/org/opendaylight/blueprint/impl-blueprint.xml</span></code>,
we need to declare that we want to use the DOM mount point service and the
DOM data broker. The former will allow us to get the NETCONF mount point of a
given device, and the latter will allow us to trigger NETCONF operations with
the devices. Excerpt:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;reference</span> <span class="na">id=</span><span class="s">&quot;domMountPointService&quot;</span>
           <span class="na">interface=</span><span class="s">&quot;org.opendaylight.controller.md.sal.dom.api.DOMMountPointService&quot;</span><span class="nt">/&gt;</span>

<span class="nt">&lt;reference</span> <span class="na">id=</span><span class="s">&quot;domDataBroker&quot;</span>
           <span class="na">interface=</span><span class="s">&quot;org.opendaylight.controller.md.sal.dom.api.DOMDataBroker&quot;</span>
           <span class="na">odl:type=</span><span class="s">&quot;default&quot;</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;provider&quot;</span>
  <span class="na">class=</span><span class="s">&quot;com.bcom.pocnetconfschemaless.impl.PocnetconfschemalessProvider&quot;</span>
  <span class="na">init-method=</span><span class="s">&quot;init&quot;</span> <span class="na">destroy-method=</span><span class="s">&quot;close&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;argument</span> <span class="na">ref=</span><span class="s">&quot;rpcRegistry&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;argument</span> <span class="na">ref=</span><span class="s">&quot;domMountPointService&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;argument</span> <span class="na">ref=</span><span class="s">&quot;domDataBroker&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="features">
<h2>features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>pom.xml<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>In <code class="docutils literal"><span class="pre">features/pom.xml</span></code>, we need to declare that we depend on
<code class="docutils literal"><span class="pre">features-netconf-connector</span></code>. The version number is not inherited from the
parent, so we need to give it. Excerpts:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;properties&gt;</span>
  <span class="c">&lt;!-- ... --&gt;</span>
  <span class="nt">&lt;netconf-connector.version&gt;</span>1.2.0-Carbon<span class="nt">&lt;/netconf-connector.version&gt;</span>
<span class="nt">&lt;/properties&gt;</span>
</pre></div>
</div>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;dependencies&gt;</span>
  <span class="c">&lt;!-- ... --&gt;</span>
  <span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.opendaylight.netconf<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>features-netconf-connector<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>${netconf-connector.version}<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;classifier&gt;</span>features<span class="nt">&lt;/classifier&gt;</span>
    <span class="nt">&lt;type&gt;</span>xml<span class="nt">&lt;/type&gt;</span>
    <span class="nt">&lt;scope&gt;</span>runtime<span class="nt">&lt;/scope&gt;</span>
  <span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;/dependencies&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="features-xml">
<h3>features.xml<a class="headerlink" href="#features-xml" title="Permalink to this headline">¶</a></h3>
<p>In <code class="docutils literal"><span class="pre">features/src/main/features/features.xml</span></code>, we need to declare the
repository that contains the NETCONF features:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;repository&gt;</span>mvn:org.opendaylight.netconf/features-netconf-connector/{{VERSION}}/xml/features<span class="nt">&lt;/repository&gt;</span>
</pre></div>
</div>
<p>In that same file, we need to tell that our impl bundle depends on two
features of the netconf project: <code class="docutils literal"><span class="pre">odl-netconf-connector</span></code> and
<code class="docutils literal"><span class="pre">odl-netconf-topology</span></code>:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;feature</span> <span class="na">name=</span><span class="s">&#39;odl-pocnetconfschemaless&#39;</span> <span class="na">version=</span><span class="s">&#39;${project.version}&#39;</span> <span class="na">description=</span><span class="s">&#39;OpenDaylight :: pocnetconfschemaless&#39;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;feature</span> <span class="na">version=</span><span class="s">&#39;${mdsal.version}&#39;</span><span class="nt">&gt;</span>odl-mdsal-broker<span class="nt">&lt;/feature&gt;</span>
<span class="hll">  <span class="nt">&lt;feature</span> <span class="na">version=</span><span class="s">&#39;${netconf-connector.version}&#39;</span><span class="nt">&gt;</span>odl-netconf-connector<span class="nt">&lt;/feature&gt;</span>
</span><span class="hll">  <span class="nt">&lt;feature</span> <span class="na">version=</span><span class="s">&#39;${netconf-connector.version}&#39;</span><span class="nt">&gt;</span>odl-netconf-topology<span class="nt">&lt;/feature&gt;</span>
</span>  <span class="nt">&lt;feature</span> <span class="na">version=</span><span class="s">&#39;${project.version}&#39;</span><span class="nt">&gt;</span>odl-pocnetconfschemaless-api<span class="nt">&lt;/feature&gt;</span>
  <span class="nt">&lt;bundle&gt;</span>mvn:com.bcom.pocnetconfschemaless/pocnetconfschemaless-impl/{{VERSION}}<span class="nt">&lt;/bundle&gt;</span>
<span class="nt">&lt;/feature&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">odl-netconf-connector</span></code> includes the <code class="docutils literal"><span class="pre">sal-netconf-connector</span></code> bundle.</p>
<p><code class="docutils literal"><span class="pre">odl-netconf-topology</span></code> allows us to mount and unmount NETCONF devices with
RESTConf.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="mount_point.html" title="Get the mount point of a NETCONF device"
             >next</a> |</li>
        <li class="right" >
          <a href="overview.html" title="Developer guide overview"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pocnetconfschemaless 0.1.0-SNAPSHOT documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2017, b-com.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>